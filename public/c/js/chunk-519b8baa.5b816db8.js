(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-519b8baa"],{"0fcb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-result"},[s("nav-bar",{staticClass:"home-nav"},[s("div",{staticClass:"left",attrs:{slot:"left"},on:{click:function(e){return t.$router.go(-1)}},slot:"left"},[s("img",{attrs:{src:a("7a74"),alt:""}})]),s("div",{staticClass:"header",attrs:{slot:"center"},slot:"center"},[s("img",{attrs:{src:a("0ade"),alt:""}})])]),s("div",{staticClass:"search"},[s("div",{staticClass:"search-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",placeholder:"搜索店内精品",autocomplete:"off"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),s("span",{on:{click:t.handleSearch}},[t._v("搜索")]),s("i",{staticClass:"iconfont icon-sousuo"})])]),s("section",[s("goods-list",{attrs:{goods:t.goods,title:"搜索结果"}})],1)],1)},i=[],r=(a("c975"),a("fb6a"),a("a434"),a("96cf"),a("1da1")),o=a("a7ac"),n=a("b2a4"),c={name:"SearchResult",data:function(){return{value:"",page:1,pageSize:5,goods:[],history:[]}},components:{NavBar:o["a"],GoodsList:n["a"]},created:function(){},mounted:function(){var t=this.$route.query.value;this.value=t,this.fetchGoodsData(t),localStorage.getItem("history")&&(this.history=JSON.parse(localStorage.getItem("history")))},beforeRouteLeave:function(t,e,a){localStorage.setItem("history",JSON.stringify(this.history)),a()},methods:{fetchGoodsData:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get(e.$api.GOODS,{state:1,page:e.page,pageSize:e.pageSize,name:t});case 2:s=a.sent,console.log(s),e.goods=s.data.data;case 5:case"end":return a.stop()}}),a)})))()},handleSearch:function(){if(""==this.value)this.$toast("请输入搜索的内容");else if(this.value.length>6)this.$toast("搜索内容不宜过长");else{var t=this.history.indexOf(this.value);-1!==t&&this.history.splice(t,1),this.history.unshift(this.value),this.history.length>9&&(this.history=this.history.slice(0,9)),this.fetchGoodsData(this.value)}}}},l=c,u=(a("d34c"),a("2877")),f=Object(u["a"])(l,s,i,!1,null,"8641060e",null);e["default"]=f.exports},"2ff8":function(t,e,a){},"7a74":function(t,e,a){t.exports=a.p+"img/back.d5a990cc.svg"},8418:function(t,e,a){"use strict";var s=a("c04e"),i=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var o=s(e);o in t?i.f(t,o,r(0,a)):t[o]=a}},a434:function(t,e,a){"use strict";var s=a("23e7"),i=a("23cb"),r=a("a691"),o=a("50c4"),n=a("7b0b"),c=a("65f0"),l=a("8418"),u=a("1dde"),f=a("ae40"),h=u("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,p=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!h||!d},{splice:function(t,e){var a,s,u,f,h,d,y=n(this),b=o(y.length),S=i(t,b),x=arguments.length;if(0===x?a=s=0:1===x?(a=0,s=b-S):(a=x-2,s=p(v(r(e),0),b-S)),b+a-s>g)throw TypeError(m);for(u=c(y,s),f=0;f<s;f++)h=S+f,h in y&&l(u,f,y[h]);if(u.length=s,a<s){for(f=S;f<b-s;f++)h=f+s,d=f+a,h in y?y[d]=y[h]:delete y[d];for(f=b;f>b-s+a;f--)delete y[f-1]}else if(a>s)for(f=b-s;f>S;f--)h=f+s-1,d=f+a-1,h in y?y[d]=y[h]:delete y[d];for(f=0;f<a;f++)y[f+S]=arguments[f+2];return y.length=b-s+a,u}})},c975:function(t,e,a){"use strict";var s=a("23e7"),i=a("4d64").indexOf,r=a("a640"),o=a("ae40"),n=[].indexOf,c=!!n&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?n.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},d34c:function(t,e,a){"use strict";var s=a("2ff8"),i=a.n(s);i.a},fb6a:function(t,e,a){"use strict";var s=a("23e7"),i=a("861d"),r=a("e8b5"),o=a("23cb"),n=a("50c4"),c=a("fc6a"),l=a("8418"),u=a("b622"),f=a("1dde"),h=a("ae40"),d=f("slice"),v=h("slice",{ACCESSORS:!0,0:0,1:2}),p=u("species"),g=[].slice,m=Math.max;s({target:"Array",proto:!0,forced:!d||!v},{slice:function(t,e){var a,s,u,f=c(this),h=n(f.length),d=o(t,h),v=o(void 0===e?h:e,h);if(r(f)&&(a=f.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?i(a)&&(a=a[p],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return g.call(f,d,v);for(s=new(void 0===a?Array:a)(m(v-d,0)),u=0;d<v;d++,u++)d in f&&l(s,u,f[d]);return s.length=u,s}})}}]);
//# sourceMappingURL=chunk-519b8baa.5b816db8.js.map