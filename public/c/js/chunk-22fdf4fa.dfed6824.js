(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22fdf4fa"],{"04cc":function(t,e,s){},"7a74":function(t,e,s){t.exports=s.p+"img/back.d5a990cc.svg"},"833d":function(t,e,s){"use strict";var a=s("04cc"),i=s.n(a);i.a},8418:function(t,e,s){"use strict";var a=s("c04e"),i=s("9bf2"),r=s("5c6c");t.exports=function(t,e,s){var o=a(e);o in t?i.f(t,o,r(0,s)):t[o]=s}},a434:function(t,e,s){"use strict";var a=s("23e7"),i=s("23cb"),r=s("a691"),o=s("50c4"),n=s("7b0b"),c=s("65f0"),l=s("8418"),h=s("1dde"),u=s("ae40"),f=h("splice"),d=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,p=Math.min,g=9007199254740991,y="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var s,a,h,u,f,d,m=n(this),S=o(m.length),b=i(t,S),w=arguments.length;if(0===w?s=a=0:1===w?(s=0,a=S-b):(s=w-2,a=p(v(r(e),0),S-b)),S+s-a>g)throw TypeError(y);for(h=c(m,a),u=0;u<a;u++)f=b+u,f in m&&l(h,u,m[f]);if(h.length=a,s<a){for(u=b;u<S-a;u++)f=u+a,d=u+s,f in m?m[d]=m[f]:delete m[d];for(u=S;u>S-a+s;u--)delete m[u-1]}else if(s>a)for(u=S-a;u>b;u--)f=u+a-1,d=u+s-1,f in m?m[d]=m[f]:delete m[d];for(u=0;u<s;u++)m[u+b]=arguments[u+2];return m.length=S-a+s,h}})},bfb3:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("nav-bar",{staticClass:"home-nav"},[a("div",{staticClass:"left",attrs:{slot:"left"},on:{click:function(e){return t.$router.go(-1)}},slot:"left"},[a("img",{attrs:{src:s("7a74")}})]),a("div",{staticClass:"header",attrs:{slot:"center"},slot:"center"},[a("img",{attrs:{src:s("0ade")}})])]),a("div",{staticClass:"search"},[a("div",{staticClass:"search-box"},[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",placeholder:"搜索店内精品",autocomplete:"off"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),a("span",{on:{click:t.handleSearch}},[t._v("搜索")]),a("i",{staticClass:"iconfont icon-sousuo"})])]),a("div",{staticClass:"histroy-search"},[a("div",{staticClass:"history-title"},[t._v("历史搜索")]),a("div",{staticClass:"history-title-right",on:{click:t.handleclear}},[t._v("清空历史")]),t._l(t.history,(function(e,s){return a("ul",{key:s,staticClass:"history-ul"},[a("router-link",{attrs:{to:{name:"searchResult",query:{value:e}}}},[t._v(t._s(e))])],1)})),t.show?a("span",[t._v("...")]):t._e()],2),a("section",[a("goods-list",{attrs:{goods:t.goods,title:"推荐商品"}})],1)],1)},i=[],r=(s("c975"),s("fb6a"),s("a434"),s("96cf"),s("1da1")),o=s("a7ac"),n=s("b2a4"),c={name:"Search",data:function(){return{value:"",page:1,pageSize:6,goods:[],history:[],show:!1}},beforeRouteLeave:function(t,e,s){localStorage.setItem("history",JSON.stringify(this.history)),s()},methods:{handleclear:function(){this.history=[],this.show=!1},handleSearch:function(){if(""==this.value)this.$toast("请输入搜索的内容");else if(this.value.length>6)this.$toast("搜索内容不宜过长");else{var t=this.history.indexOf(this.value);-1!==t&&this.history.splice(t,1),this.history.unshift(this.value),this.history.length>9&&(this.history=this.history.slice(0,9),this.show=!0),this.$router.push({name:"searchResult",query:{value:this.value}})}},fetchGoodsData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(t.$api.GOODS,{state:1,page:t.page,pageSize:t.pageSize,recommend:1});case 2:s=e.sent,t.goods=s.data.data;case 4:case"end":return e.stop()}}),e)})))()}},components:{NavBar:o["a"],GoodsList:n["a"]},created:function(){},mounted:function(){this.fetchGoodsData(),localStorage.getItem("history")&&(this.history=JSON.parse(localStorage.getItem("history")),9===this.history.length&&(this.show=!0))}},l=c,h=(s("833d"),s("2877")),u=Object(h["a"])(l,a,i,!1,null,"fd478d8e",null);e["default"]=u.exports},c975:function(t,e,s){"use strict";var a=s("23e7"),i=s("4d64").indexOf,r=s("a640"),o=s("ae40"),n=[].indexOf,c=!!n&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),h=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!l||!h},{indexOf:function(t){return c?n.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},fb6a:function(t,e,s){"use strict";var a=s("23e7"),i=s("861d"),r=s("e8b5"),o=s("23cb"),n=s("50c4"),c=s("fc6a"),l=s("8418"),h=s("b622"),u=s("1dde"),f=s("ae40"),d=u("slice"),v=f("slice",{ACCESSORS:!0,0:0,1:2}),p=h("species"),g=[].slice,y=Math.max;a({target:"Array",proto:!0,forced:!d||!v},{slice:function(t,e){var s,a,h,u=c(this),f=n(u.length),d=o(t,f),v=o(void 0===e?f:e,f);if(r(u)&&(s=u.constructor,"function"!=typeof s||s!==Array&&!r(s.prototype)?i(s)&&(s=s[p],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return g.call(u,d,v);for(a=new(void 0===s?Array:s)(y(v-d,0)),h=0;d<v;d++,h++)d in u&&l(a,h,u[d]);return a.length=h,a}})}}]);
//# sourceMappingURL=chunk-22fdf4fa.dfed6824.js.map