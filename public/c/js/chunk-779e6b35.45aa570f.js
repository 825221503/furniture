(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-779e6b35"],{"2fb9":function(e,t,a){"use strict";var n=a("f56e"),r=a.n(n);r.a},b40e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav-bar",{staticClass:"home-nav"},[n("div",{staticClass:"left",attrs:{slot:"left"},on:{click:function(t){return e.$router.go(-1)}},slot:"left"},[n("img",{attrs:{src:a("7a74")}})]),n("div",{staticClass:"header",attrs:{slot:"center"},slot:"center"},[n("span",[e._v("更新地址")])])]),n("van-address-edit",{staticClass:"address",attrs:{"area-list":e.areaList,"show-set-default":"","show-delete":"","show-search-result":"","search-result":e.searchResult,"address-info":e.addressInfo,"area-columns-placeholder":["请选择","请选择","请选择"]},on:{save:e.onSave,"change-detail":e.onChangeDetail,delete:e.handleDelete}})],1)},r=[],s=(a("b0c0"),a("96cf"),a("1da1")),o=a("33eb"),c=a("a7ac"),i={name:"Address",data:function(){return{areaList:o["a"],addressInfo:{},searchResult:[],addAddress:{},uid:localStorage.getItem("uid"),id:0}},components:{NavBar:c["a"]},created:function(){},mounted:function(){console.log(this.addressInfo),console.log(this.uid),this.id=this.$route.query.id,this.fetchAddressData(this.id)},methods:{handleDelete:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.delete(e.$api.ADDRESS+"/"+e.id);case 2:a=t.sent,200==a.data.code&&(e.$toast("删除成功"),setTimeout((function(){e.$router.go(-1)}),500));case 4:case"end":return t.stop()}}),t)})))()},onSave:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e.areaCode),t.addressInfo={province:e.province,city:e.city,area:e.county,address:e.addressDetail,connect_name:e.name,connect_phone:e.tel,default:e.isDefault?1:0,type:"1",uid:localStorage.getItem("uid"),areaCode:e.areaCode},a.next=4,t.$http.put(t.$api.ADDRESS+"/"+t.id,t.addressInfo);case 4:n=a.sent,console.log(n),console.log(t.addressInfo.id),200===n.data.code&&(t.$toast("修改成功"),setTimeout((function(){t.$router.go(-1)}),500));case 8:case"end":return a.stop()}}),a)})))()},onChangeDetail:function(e){this.searchResult=e?[{name:"阳光广场中心",address:"山西创业大厦"}]:[]},fetchAddressData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get(t.$api.ADDRESS+"/"+e);case 2:n=a.sent,console.log(n),r=n.data.data,t.addressInfo={province:r.province,city:r.city,county:r.area,addressDetail:r.address,name:r.connect_name,tel:r.connect_phone,isDefault:!!r.default,type:"1",id:r.id,areaCode:r.areaCode};case 6:case"end":return a.stop()}}),a)})))()}}},d=i,u=(a("2fb9"),a("2877")),l=Object(u["a"])(d,n,r,!1,null,"0e052668",null);t["default"]=l.exports},f56e:function(e,t,a){}}]);
//# sourceMappingURL=chunk-779e6b35.45aa570f.js.map